/* Garantit que tout élément [hidden] est invisible, quoi qu'il arrive */
[hidden] { display: none !important; }


:root{
  --bg:#0f172a; --text:#e5e7eb; --muted:#9ca3af;
  --primary:#22d3ee; --ring:rgba(96,165,250,.45);
  --card:#111827; --tile:#1f2937; --accent:#f59e0b;
}

*{box-sizing:border-box}
html,body{margin:0;height:100%}
body{
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 70% -10%, rgba(255,255,255,.06), transparent 70%),
    linear-gradient(180deg, #0b1324 0%, #0f172a 100%);
  min-height:100dvh;
}
img{max-width:100%;display:block}
a{color:inherit;text-decoration:none}

.container{max-width:1000px;margin:0 auto;padding:20px}
.row{display:flex}.between{justify-content:space-between}.center{align-items:center}.gap{gap:12px}
.title{margin:0;font-size:clamp(22px,4vw,28px)}
.muted{color:var(--muted)}

.btn{
  font:inherit; padding:10px 14px; border-radius:12px; cursor:pointer;
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(135deg,var(--primary),#60a5fa); color:#0b1324; font-weight:700;
}
.btn.ghost{background:rgba(255,255,255,.08); color:#fff; border-color:rgba(255,255,255,.18)}
.pill{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); padding:8px 12px; border-radius:999px}

.site-header{
  position:sticky; top:0; z-index:5;
  background:rgba(2,6,23,.6); backdrop-filter:saturate(140%) blur(8px);
  border-bottom:1px solid rgba(255,255,255,.06)
}

.board-wrap{padding:24px 0}
.board{
  --cols:4; /* MAJ en JS (4,5,6) */
  display:grid;
  grid-template-columns: repeat(var(--cols), minmax(80px, 1fr));
  gap: clamp(10px, 2vw, 16px);
  align-content:center;
}
@media (min-width:720px){
  .board{ grid-template-columns: repeat(var(--cols), 1fr); }
}

/* Carte */
.card{
  position:relative; aspect-ratio: 4/5; border-radius:16px; cursor:pointer; user-select:none; outline:none;
  transform-style:preserve-3d; transition: transform .5s ease;
}
.card:focus{ box-shadow: 0 0 0 4px var(--ring); }
.face{
  position:absolute; inset:0; display:grid; place-items:center; border-radius:16px;
  backface-visibility:hidden; font-size: clamp(26px, 6vmin, 46px);
}
.front{
  background: linear-gradient(160deg, #111827, #1f2937); border:1px solid rgba(255,255,255,.08);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.back{
  background: linear-gradient(160deg, #f59e0b, #ef4444);
  color:#0b1324; font-size: clamp(20px, 5vmin, 36px);
  transform: rotateY(180deg);
}

/* États */
.card.flipped{ transform: rotateY(180deg); }
.card.matched{ cursor:default; animation: pop .45s ease both; }
@keyframes pop{
  0%{ transform: rotateY(180deg) scale(1); }
  50%{ transform: rotateY(180deg) scale(1.08); }
  100%{ transform: rotateY(180deg) scale(1); }
}

/* Overlay victoire */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.55);
  display:grid; place-items:center; padding:16px;
}
.modal{
  background:#0b1324; color:#fff; border:1px solid rgba(255,255,255,.14);
  border-radius:18px; max-width: 460px; width:100%; padding:20px; text-align:center;
  box-shadow: 0 18px 40px rgba(0,0,0,.5);
}
.modal .record{ color:#fde68a; }

/* Accessibilité motion */
@media (prefers-reduced-motion: reduce){
  .card{ transition:none }
  .card.flipped, .card.matched{ transform:none }
}
